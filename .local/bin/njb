#!/usr/bin/env bash

create_note() {
    if [ ! -f $note_directory ]; then
        echo "# Notes for $(date +%Y-%m-%d)" > $note_directory
    fi
    nvim -c "norm Go" \
        -c "norm Go## $(date +%H:%M:%S)" \
        -c "norm Go" \
        -c "norm zz" \
        -c "startinsert" $note_directory
}

create_todo() {
    nvim -c "norm Go" \
        -c "norm Go*  " \
        -c "startinsert" $note_directory
}

case "${1}" in
    -g)
        # General mode
        note_directory="/data/notes/note-$(date +%Y-%m-%d).md"
        create_note
        ;;
    -t)
        # ToDo list
        note_directory="/data/notes/todo.md"
        create_todo
        ;;
    *)
        echo "Flags:
        -g for general"
        ;;
esac
