#!/usr/bin/env bash

notesDirectory=/data/notes # Default notes path

# This ask for the directory and names, basically the relative path
topicSelected=$(kdialog --inputbox "Enter the topic and name of the note")
# Only the name of the note
noteName=$(echo $topicSelected | tr "/" " " | awk '{print $NF}')
# This creates the absolute path
notePath=$notesDirectory/"$topicSelected.md"
# Name of the note but with spaces converted
safename=$(echo $var | sed 's/ /\\ /g')

if [[ ! -f "$safename" ]];then
    echo "# $noteName" >> $notePath
    echo "## Note creation $(date +%Y-%m-%d\|%H:%M:%S)" >> $notePath
    echo "" >> $notePath
    echo "tags: " >> $notePath
fi

#fixedName="echo $notePath | awk '{gsub(/ /,"\\ ")}8'"
